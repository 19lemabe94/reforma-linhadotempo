<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Linha do Tempo da Reforma Tributária</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="main-nav">
        <img src="logo.jpg" alt="Logo da Reforma Tributária" class="logo-nav">
        
        
        <a id="toggle-dark-mode" class="theme-btn">
            <i class="fa-solid fa-moon"></i> 
        </a>

        <button id="menu-toggle" class="menu-toggle">
            <i class="fa-solid fa-bars"></i>
        </button>
        <ul id="main-menu">
            
            <li><a href="#2023" class="nav-link">2023</a></li>
            <li><a href="#2024" class="nav-link">2024</a></li>
            <li><a href="#2025" class="nav-link">2025</a></li>
            <li><a href="#2026" class="nav-link">2026</a></li>
            <li><a href="#2027" class="nav-link">2027</a></li>
            <li><a href="#2029-2032" class="nav-link">2029 - 2032</a></li>
            <li><a href="#2033" class="nav-link">2033</a></li>
           

        </ul>

    </nav>
    <div class="container mx-auto px-4 max-w-7xl">
        <header class="timeline-header">
            <div class="header-content">
                <h1 class="header-title">Reforma Tributária</h1>
                <p class="header-description">Análise do cenário atual e futuro.</p>
            </div>
        </header>

        <div class="timeline-vertical">
            <div class="timeline-container right" id="2023">
                <div class="year-label">2023</div>
                <div class="card-timeline group" data-content="conteudo-2023">
                    <h3 class="text-xl font-bold mb-2">Emenda 132/2023</h3>
                    <p>Altera o Sistema Tributário Nacional...</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fa-solid fa-flag"></i>
                </div>
            </div>

            <div class="timeline-container left" id="2024">
                <div class="year-label">2024</div>
                <div class="card-timeline group" data-content="conteudo-2024">
                    <h3 class="text-xl font-bold mb-2">Aprovação</h3>
                    <p>Aprovação do Projeto de Lei Complementar (PLP) 68/2024.</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fas fa-thumbs-up"></i>
                </div>
            </div>

            <div class="timeline-container right" id="2025">
                <div class="year-label">2025</div>
                <div class="card-timeline group" data-content="conteudo-2025">
                    <h3 class="text-xl font-bold mb-2">Lei Complementar</h3>
                    <p>Publicação da Lei Complementar nº 214/2025, regulamentando a CBS e o IBS.</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fas fa-scroll"></i>
                </div>
            </div>

            <div class="timeline-container left" id="2026">
                <div class="year-label">2026</div>
                <div class="card-timeline group" data-content="conteudo-2026">
                    <h3 class="text-xl font-bold mb-2">Ano de Teste</h3>
                    <p>Ano de teste da CBS e IBS com alíquotas de 0,9% e 0,1%, respectivamente.</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fas fa-tools"></i>
                </div>
            </div>

            <div class="timeline-container right" id="2027">
                <div class="year-label">2027</div>
                <div class="card-timeline group" data-content="conteudo-2027">
                    <h3 class="text-xl font-bold mb-2">Início da CBS</h3>
                    <p>Início da Contribuição Social sobre Bens e Serviços (CBS). Extinção do PIS e COFINS e alíquotas do IPI reduzidas a 0.</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fas fa-coins"></i>
                </div>
            </div>

            <div class="timeline-container left" id="2029-2032">
                <div class="year-label">2029&nbsp;/&nbsp;2032</div>
                <div class="card-timeline group" data-content="conteudo-2029-2032">
                    <h3 class="text-xl font-bold mb-2">Substituição Gradual</h3>
                    <p>Substituição gradual do ICMS e ISS pelo IBS, com aumento progressivo das alíquotas do IBS.</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fas fa-sync-alt"></i>
                </div>
            </div>

            <div class="timeline-container right" id="2033">
                <div class="year-label">2033</div>
                <div class="card-timeline group" data-content="conteudo-2033">
                    <h3 class="text-xl font-bold mb-2">Implementação Total</h3>
                    <p>Implementação total do IBS, substituindo o ICMS e o ISS.</p>
                </div>
                <div class="timeline-icon-circle">
                    <i class="fas fa-flag-checkered"></i>
                </div>
            </div>
        </div>
    </div>

        <div id="conteudos-ocultos" hidden>
        <div id="conteudo-2023">
            <h3 class="text-xl font-bold mb-2">Emenda Constitucional 132/2023</h3>
            <p>A Emenda Constitucional nº 132 de 2023 foi um marco crucial para a reforma tributária brasileira. Ela altera o Sistema Tributário Nacional, com foco na reforma da tributação sobre o consumo e ajustes na tributação sobre o patrimônio. Unifica as propostas das PECs 45 e 110/2019 e do Projeto de Lei nº 3887/2020, introduzindo três novos tributos: CBS, IBS e o Imposto Seletivo.</p>
        </div>
        <div id="conteudo-2024">
            <h3 class="text-xl font-bold mb-2">Aprovação do PLP 68/2024</h3>
            <p>Em 2024, foi aprovado o Projeto de Lei Complementar (PLP) 68/2024. Este foi o marco inicial para a nova legislação tributária, definindo as diretrizes e os princípios da reforma, como a unificação de impostos e a criação do IVA Dual.
            <p>O texto definiu:</p>
            <ul class="list-disc list-inside mt-2">
                <li>Princípios do IVA Dual (CBS e IBS).</li>
                <li>Definição de bens e serviços.</li>
                <li>Regras para o Imposto Seletivo.</li>
            </ul>
            </p>
        </div>
        <div id="conteudo-2025">
            <h3 class="text-xl font-bold mb-2">Lei Complementar (2025)</h3>
            <p>A Lei Complementar nº 214/2025 foi publicada, regulamentando em detalhes a Contribuição Social sobre Bens e Serviços (CBS) e o Imposto sobre Bens e Serviços (IBS). Essa lei estabeleceu as regras, alíquotas e exceções necessárias para a implementação dos novos impostos.</p>
            <img src="ilustracao-lei.jpg" alt="Ilustração de um documento legal com um selo de aprovação" class="w-full h-auto my-4 rounded-lg shadow-md" loading="lazy">
        </div>
        <div id="conteudo-2026">
            <h3 class="text-xl font-bold mb-2">Ano de Teste (2026)</h3>
            <p>O ano de 2026 foi dedicado ao teste dos novos impostos. A CBS foi implementada com uma alíquota de 0,9% e o IBS com 0,1%. Este período permitiu que empresas e órgãos governamentais se adaptassem aos novos sistemas de cálculo e arrecadação, ajustando processos e tecnologias.</p>
            <p class="mt-4">Saiba mais sobre a fase de transição:</p>
            <ul class="list-disc list-inside mt-2">
                <li><a href="#" target="_blank" rel="noopener noreferrer" class="underline text-blue-600 dark:text-blue-400">Guia de Implementação</a></li>
                <li><a href="#" target="_blank" rel="noopener noreferrer" class="underline text-blue-600 dark:text-blue-400">Relatório da Receita Federal</a></li>
            </ul>
        </div>
        <div id="conteudo-2027">
            <h3 class="text-xl font-bold mb-2">Início da CBS (2027)</h3>
            <p>A Contribuição Social sobre Bens e Serviços (CBS) entrou em vigor, substituindo o PIS e a COFINS. As alíquotas do IPI (Imposto sobre Produtos Industrializados) foram reduzidas a 0, simplificando significativamente o sistema de tributação federal.</p>
        </div>
        <div id="conteudo-2029-2032">
            <h3 class="text-xl font-bold mb-2">Substituição Gradual (2029-2032)</h3>
            <p>Este período marca a substituição gradual do ICMS e ISS pelo IBS. As alíquotas do IBS serão progressivamente aumentadas, enquanto as do ICMS e ISS serão reduzidas até a sua completa extinção. O objetivo é evitar choques econômicos e permitir uma transição suave para empresas e estados.</p>
        </div>
        <div id="conteudo-2033">
            <h3 class="text-xl font-bold mb-2">Implementação Total (2033)</h3>
            <p>Em 2033, o processo de reforma tributária foi concluído. O IBS foi totalmente implementado, substituindo o ICMS e o ISS por completo. Este ano marcou a consolidação do novo sistema, com um Imposto sobre Valor Adicionado (IVA) unificado e transparente em todo o país.</p>
        </div>
    </div>
        <div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div id="modal" class="modal">
            <button id="modal-close-btn" class="modal-close-btn">&times;</button>
            <div id="modal-content-container"></div>
        </div>
    </div>

    <footer class="page-footer">
        <div class="social-icons">
            <a href="#" target="_blank" class="social-icon-square">
                <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="#" target="_blank" class="social-icon-square">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="#" target="_blank" class="social-icon-square">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://github.com/19lemabe94/reforma-linhadotempo" target="_blank" class="social-icon-square">
                <i class="fab fa-github"></i>
            </a>
        </div>
    </footer>

    <script>
        const sr = ScrollReveal({
        distance: '50px',
        duration: 1000,
        easing: 'cubic-bezier(0.5, 0, 0, 1)',
        reset: true
        });
        sr.reveal('.timeline-container.left', { origin: 'left' });
        sr.reveal('.timeline-container.right', { origin: 'right' });
        sr.reveal('.year-label', { origin: 'bottom' });

        // Referências aos elementos do DOM
        const cardElements = document.querySelectorAll('.card-timeline');
        const modalOverlay = document.getElementById('modal-overlay');
        const modalContentContainer = document.getElementById('modal-content-container');
        const closeBtn = document.getElementById('modal-close-btn');
        const timelineVertical = document.querySelector('.timeline-vertical');

        // Array para armazenar as referências dos cards de detalhe abertos
        const openDetailCards = new Map();

        // Função para fechar um card de detalhe específico com animação
        function closeDetailCard(card) {
            const detailCard = openDetailCards.get(card);
            if (detailCard) {
                detailCard.classList.remove('active');
                setTimeout(() => detailCard.remove(), 500);
                openDetailCards.delete(card);
            }
        }

        // Lógica para cada card da linha do tempo
        cardElements.forEach(card => {
            card.addEventListener('click', () => {
                const contentId = card.getAttribute('data-content');
                const contentElement = document.getElementById(contentId);
                if (!contentElement) return;

                const contentHtml = contentElement.innerHTML;
                
                // Verifica o tamanho da tela para decidir entre modal ou card de detalhe
                if (window.innerWidth > 768) {
                    const parentContainer = card.closest('.timeline-container');
                    const isRight = parentContainer.classList.contains('right');

                    // Se o card de detalhe já está aberto para este card, feche-o
                    if (openDetailCards.has(card)) {
                        closeDetailCard(card);
                        return;
                    }

                    // Fecha qualquer outro card de detalhe que possa estar aberto
                    openDetailCards.forEach((value, key) => {
                        if (key !== card) {
                            closeDetailCard(key);
                        }
                    });

                    // Cria o novo card de detalhe
                    const detailCard = document.createElement('div');
                    detailCard.classList.add('card-detail');
                    detailCard.classList.add(isRight ? 'detail-right' : 'detail-left');
                    detailCard.innerHTML = contentHtml;
                    
                    // Adiciona o card de detalhe ao container principal da linha do tempo
                    timelineVertical.appendChild(detailCard);
                    openDetailCards.set(card, detailCard);

                    // Posiciona o card verticalmente em relação ao card pai
                    const cardRect = card.getBoundingClientRect();
                    const timelineRect = timelineVertical.getBoundingClientRect();
                    const relativeTop = cardRect.top - timelineRect.top + (cardRect.height / 2);
                    detailCard.style.top = `${relativeTop}px`;

                    // Ativa a animação após um pequeno atraso
                    setTimeout(() => {
                        detailCard.classList.add('active');
                    }, 10);

                } else {
                    // Lógica do modal para telas pequenas
                    modalContentContainer.innerHTML = contentHtml;
                    modalOverlay.classList.add('active');
                }
            });
        });

        // Event listener global para fechar cards de detalhe
        document.addEventListener('click', (e) => {
            // Apenas para telas maiores que 768px
            if (window.innerWidth <= 768) return;

            // Se o clique foi fora de qualquer card da timeline ou card de detalhe
            if (!e.target.closest('.card-timeline') && !e.target.closest('.card-detail')) {
                // Itera sobre todos os cards de detalhe abertos e os fecha
                for (const [card, detailCard] of openDetailCards) {
                    closeDetailCard(card);
                }
            }
        });

        // Event listener para fechar o modal ou todos os cards de detalhe com a tecla ESC
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') {
                modalOverlay.classList.remove('active');
                
                if (openDetailCards.size > 0) {
                    for (const [card, detailCard] of openDetailCards) {
                        closeDetailCard(card);
                    }
                }
            }
        });

        // Lógica do modal para telas pequenas 
        closeBtn.addEventListener('click', () => {
            modalOverlay.classList.remove('active');
        });

        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('active');
            }
        });

        // Lógica de navegação suave 
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();

                const targetId = this.getAttribute('href').substring(1);
                const targetElem = document.getElementById(targetId);
                if (!targetElem) return;

                const elementRect = targetElem.getBoundingClientRect();
                const absoluteElementTop = elementRect.top + window.pageYOffset;
                const middleOfScreen = window.innerHeight / 2;
                const scrollTo = absoluteElementTop - middleOfScreen + (elementRect.height / 2);

                window.scrollTo({
                    top: scrollTo,
                    behavior: 'smooth'
                });

                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // ==== MODO ESCURO ====
        const toggleDarkModeBtn = document.getElementById('toggle-dark-mode');
        const body = document.body;
        const logoNav = document.querySelector('.logo-nav'); // Adicione esta linha

        // Carregar preferência salva
        if (localStorage.getItem('darkMode') === 'true') {
            body.classList.add('dark-mode');
            logoNav.src = 'logo-white.png'; // Adicione esta linha
            toggleDarkModeBtn.innerHTML = '<i class="fa-solid fa-sun"></i> ';
        }

        // Alternar tema
        toggleDarkModeBtn.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const darkModeAtivo = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', darkModeAtivo);

            // Adicione a lógica para trocar o logo aqui
            if (darkModeAtivo) {
                logoNav.src = 'logo-white.png'; // Troca para a logo branca
            } else {
                logoNav.src = 'logo.jpg'; // Volta para a logo original
            }

            toggleDarkModeBtn.innerHTML = darkModeAtivo 
                ? '<i class="fa-solid fa-sun"></i> '
                : '<i class="fa-solid fa-moon"></i> ';
        });

            // Referências para o novo botão e o menu
    const menuToggle = document.getElementById('menu-toggle');
    const mainMenu = document.getElementById('main-menu');

    // Adiciona um evento de clique ao botão do hambúrguer
    menuToggle.addEventListener('click', () => {
        mainMenu.classList.toggle('active');
    });

    // Fecha o menu ao clicar em um link (opcional, mas melhora a usabilidade)
    mainMenu.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            mainMenu.classList.remove('active');
        });
    });

    </script>
</body>
</html>